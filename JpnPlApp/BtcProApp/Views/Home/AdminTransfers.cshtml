
@{
    ViewBag.Title = "AdminTransfers";
}

<h2>AdminTransfers</h2>

<script src="~/Scripts/angular.min.js"></script>
<script src="~/app/scripts/AdminTransferController.js"></script>

<section class="wrapper" style="margin-top:30px !important">
    <div ng-app="app" ng-controller="AdminTransfer" ng-cloak>
        <div class="row">
            <div class="col-sm-12">
                <section class="panel">
                    <header class="panel-heading">
                        <i class=""></i> Transfers - Admin Panel
                    </header>
                    <div class="panel-body">
                       <table style="width:50%;min-width:300px;margin:0 auto">
                           <tr style="line-height:30px">
                               <td><label>Transfer to Username:</label>
                                   <label>{{dummy}}</label>
                               </td>
                               <td><input type="text" ng-model="username" class="form-control" ng-blur="checkUsername()"/>
                               </td>
                           </tr>
                           <tr ng-if="errormessage!=''">
                               <td></td>
                               <td style="color:red;float:left"><label class="pull-right">{{errormessage}}</label></td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Name:</label></td>
                               <td>{{name}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Email:</label></td>
                               <td>{{email}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>CountryCode:</label></td>
                               <td>{{countrycode}}</td>
                           </tr>
                          
                           <tr ng-show="idfound">
                               <td><label>Development Wallet:</label></td>
                               <td>{{DevelopmentBalance | currency:'BDT '}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Referral Wallet:</label></td>
                               <td>{{ReferralBalance | currency:'BDT '}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Royalty Wallet:</label></td>
                               <td>{{RoyaltyBalance | currency:'BDT '}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Diamond Royalty Wallet:</label></td>
                               <td>{{DiamondRoyaltyBalance | currency:' BDT '}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Joining Wallet:</label></td>
                               <td>{{JoiningBalance | currency:'BDT '}}</td>
                           </tr>
                           <tr ng-show="idfound">
                               <td><label>Withdrawal Wallet:</label></td>
                               <td>{{WithdrawBalance | currency:'BDT '}}</td>
                           </tr>
                           <tr style="line-height:30px">
                               <td><label>Transaction Type:</label></td>
                               <td><input name="trnType" type="radio" ng-model="dr_or_cr" value="W"/>&nbsp;Withdraw <input style="margin-left:10px" name="trntype" type="radio" ng-model="dr_or_cr" value="D"/>&nbsp;Deposit</td>
                           </tr>
                           <tr style="line-height:30px">
                               <td><label>Wallet Type:</label></td>
                               <td>
                                   <select name="wallet" ng-model="wallet" required class="form-control">
                                       <option value="1">Development Wallet</option>
                                       <option value="2">Referral Wallet</option>
                                       <option value="3">Royalty Wallet</option>
                                       <option value="4">Diamond Royalty Wallet</option>
                                       <option value="5">Joining Wallet</option>
                                       <option value="6">Withdrawal Wallet</option>
                                   </select>
                               </td>
                           </tr>
                           <tr style="line-height:30px">
                               <td><label>Amount to Transfer (BDT):</label></td>
                               <td><input type="number" ng-model="amount" class="form-control" ng-min="1"/></td>
                           </tr>
                           <tr style="line-height:30px;margin:5px" >
                               <td></td>
                               <td><br/><button class="btn btn-success" ng-hide="username=='' || amount<=0 || isNotExcessWithdraw()" ng-click="Transaction()" style="margin:0 auto;">Transfer</button></td>
                           </tr>
                       </table>
                        <br/>
                        <table class="table table-bordered table-striped">
                            <thead>
                                <tr>
                                    <th>Transfer Date</th>
                                    <th>Deposit</th>
                                    <th>Withdraw</th>
                                    <th>User Name</th>
                                    <th>Wallet Type</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="trf in transfers">
                                    <td>{{trf.Date}}</td>
                                    <td>{{trf.Deposit | currency:"BDT "}}</td>
                                    <td>{{trf.Withdraw | currency:"BDT "}}</td>
                                    <td>{{trf.Transfer}}</td>
                                    <td>{{trf.Walletname}}</td>
                                </tr>
                            </tbody>
                        </table>  
                    </div>
                </section>
            </div>
        </div>
    </div>
</section>
